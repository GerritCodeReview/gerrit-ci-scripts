{
  "comments": [
    {
      "key": {
        "uuid": "ffdb3fb6_43c22520",
        "filename": "jenkins-docker/slave-aws/Dockerfile",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-29T21:56:17Z",
      "side": 1,
      "message": "nit: these can be done in the same RUN step",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 17
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4eefc0f6_482a18bf",
        "filename": "jenkins-docker/slave-aws/Dockerfile",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-10-01T13:35:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffdb3fb6_43c22520",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 6,
        "endChar": 17
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f6df48d_f5c7f8b0",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-29T21:56:17Z",
      "side": 1,
      "message": "This pipeline can be tied to the aws-gerrit project, so that it can be triggered whenever there is any change to the repository.\n\nAlso, the entire section becomes redundant, as the declarative pipeline would automatically checkout the project.",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 45,
        "endChar": 91
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0333291_c5374c67",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-09-30T07:42:25Z",
      "side": 1,
      "message": "I thought that we want to trigger it manually or when we have merge to gerrit core. This is performance test so what\u0027s the point of testing changes in aws-gerrit",
      "parentUuid": "9f6df48d_f5c7f8b0",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 45,
        "endChar": 91
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f846cb6b_bcc7b1f8",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-30T22:32:36Z",
      "side": 1,
      "message": "But when you change the aws-gerrit deployment, you may also impact the overall performance, isn\u0027t it?\n\nAlso, we would have to update the aws-gerrit master branch and get the latest snapshot Gerrit war to install, otherwise this pipeline would test the same version of Gerrit over and over again.",
      "parentUuid": "b0333291_c5374c67",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 45,
        "endChar": 91
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81fe4fac_cfaa2d8a",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-10-05T07:47:21Z",
      "side": 1,
      "message": "I\u0027ve spent some time on this point I cannot find easy solution. `checkout scm` can be used only with pipeline-scm from gatlingTestPipeline.yml or with multi-branch pipeline. But if I use pipeline-scm I have to point to the project with the pipeline because I cannot mix with dsl: !include-raw: gatlingTestPipeline.groovy so pipeline-scm has to point to gerrit-ci-script instead of aws-gerrit. For multi-branch projects currently it works in that way that each project must have Jenkinsfile in root folder of the project. I\u0027ve found this discussion https://stackoverflow.com/questions/39041342/jenkins-multibranch-pipeline-with-jenkinsfile-from-different-repository . Could we do that in follow up change?",
      "parentUuid": "f846cb6b_bcc7b1f8",
      "range": {
        "startLine": 42,
        "startChar": 0,
        "endLine": 45,
        "endChar": 91
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e68228d0_65fd9bd3",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 48,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-29T21:56:17Z",
      "side": 1,
      "message": "Where is this environment variable set?",
      "range": {
        "startLine": 48,
        "startChar": 50,
        "endLine": 48,
        "endChar": 68
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a137f1d_6c3bc858",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 48,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-09-30T07:42:25Z",
      "side": 1,
      "message": "Similar to the follow up change setCredentials.groovy should add it automatically is we put it to the ${JENKINS_HOME}/.secrets file. But it looks like we have to manually add AWS_CREDENTIALS_ID environment variable to point to the credentials from .secrets file",
      "parentUuid": "e68228d0_65fd9bd3",
      "range": {
        "startLine": 48,
        "startChar": 50,
        "endLine": 48,
        "endChar": 68
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45a6a190_5c5cfd11",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 48,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-30T22:32:36Z",
      "side": 1,
      "message": "Why not just calling this \u0027aws-credentials-id\u0027 and just setting it on the ${JENKINS_HOME}/.secrets file then? What is this level of redirection providing as value?",
      "parentUuid": "2a137f1d_6c3bc858",
      "range": {
        "startLine": 48,
        "startChar": 50,
        "endLine": 48,
        "endChar": 68
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d36e6bb1_1e304364",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 48,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-10-01T13:35:03Z",
      "side": 1,
      "message": "I\u0027ve copied that functionality from pluginPipeline.groovy. My understanding was that we want to separate script from jenkins instance. So the developer doesn\u0027t know even credential id. But as I said we already have that in pluginPipeline.groovy so I thought that it\u0027s our standard but if not I\u0027m more than happy to remove it.",
      "parentUuid": "45a6a190_5c5cfd11",
      "range": {
        "startLine": 48,
        "startChar": 50,
        "endLine": 48,
        "endChar": 68
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8eb48703_727bdcc6",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-29T21:56:17Z",
      "side": 1,
      "message": "why not simply create-all?",
      "range": {
        "startLine": 72,
        "startChar": 126,
        "endLine": 74,
        "endChar": 73
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9a99248_2c64709a",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-09-30T07:42:25Z",
      "side": 1,
      "message": "create-all build docker image and slave-aws doesn\u0027t have docker installed. We have to use slave-aws because we need aws-cli",
      "parentUuid": "8eb48703_727bdcc6",
      "range": {
        "startLine": 72,
        "startChar": 126,
        "endLine": 74,
        "endChar": 73
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c77f888_c0af2a78",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-30T22:32:36Z",
      "side": 1,
      "message": "Can we install Docker as well? Otherwise the whole system wouldn\u0027t work out of the box: it would still require someone to build and publish the image to ECR.",
      "parentUuid": "b9a99248_2c64709a",
      "range": {
        "startLine": 72,
        "startChar": 126,
        "endLine": 74,
        "endChar": 73
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f7f4c27_9c574c98",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-10-01T13:35:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1c77f888_c0af2a78",
      "range": {
        "startLine": 72,
        "startChar": 126,
        "endLine": 74,
        "endChar": 73
      },
      "revId": "7cbcb69c4bdd4ba20f5eaca6b56373ebee4902f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}