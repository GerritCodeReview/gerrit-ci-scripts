{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d0ad1f96_a5bc69d1",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "So we decided to bring back defaults? We had some previously but during the initial conversation we decided that defaults should be provided by jenkins and not hardoced: https://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/281536/4..14/vars/gatlingTestPipeline#b4",
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "769bfbe5_260449b5",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "Yes, I think this is the whole point of this CR, unless we provide defaults, the job would fail, when run automatically.\n\nIn the monorail issue[1], we decided to use the gerritforge AWS accounts.\n\n[1]https://bugs.chromium.org/p/gerrit/issues/detail?id\u003d13829#c1",
      "parentUuid": "d0ad1f96_a5bc69d1",
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "857ff9f8_695cce7f",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T14:40:47Z",
      "side": 1,
      "message": "Yes, that\u0027s why I started adding default in the original change. Then we had a discussion and we agreed that this is more like a jenkins job template to be reused by different organisations so we should not put any defaults. My understanding from this conversation was that we will use some jenkins plugin to use defaults:\nhttps://wiki.jenkins.io/pages/viewpage.action?pageId\u003d44826755\nhttps://plugins.jenkins.io/persistent-parameter/\nThere is also this way to provide defaults:\nhttps://issues.jenkins.io/browse/JENKINS-46542",
      "parentUuid": "769bfbe5_260449b5",
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9d04b1c_b199a79b",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:33:18Z",
      "side": 1,
      "message": "OK, I am a bit confused, so forgive if I have few questions ðŸ˜Š\n\n\u003e Then we had a discussion and we agreed that this is more like a jenkins job template to be reused by different organisations\n\nIsn\u0027t this job supposed to help the community testing Gerrit releases? What other organizations are we expecting to use it?\n\nThe AWS credentials that we are using (via vault) are tied to gerritforge AWS account.\n\n\u003e we should not put any defaults.\n\nThe issue ticket states:\n\n```\nGatling Gerrit automatic tests are failing on the CI\nWhat is the expected output? The job should be green and working.\n```\n\nWhat\u0027s an alternative way to allow this job to automatically pass, without configuring defaults params?\n\nDid I misunderstand the task?",
      "parentUuid": "857ff9f8_695cce7f",
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85253a99_88a7b25a",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T16:50:05Z",
      "side": 1,
      "message": "I\u0027m confused as well ðŸ˜„ we had defaults and we removed them( https://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/281536/4..14/vars/gatlingTestPipeline#b4) so I was sure that we will use one of those plugins to provide default params:\nhttps://wiki.jenkins.io/pages/viewpage.action?pageId\u003d44826755\nhttps://plugins.jenkins.io/persistent-parameter/\n\n@luca WDYT?\n\n\u003e Isn\u0027t this job supposed to help the community testing Gerrit releases? What other organizations are we expecting to use it?\nI believe this is just one purpose, another one was to allow anyone to take this job provide params and run gatling tests for gerrit",
      "parentUuid": "b9d04b1c_b199a79b",
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5bded01_d75dd9f3",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "LDAP was removed as not needed for that test:\nhttps://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/282172/2/jenkins/gatlingTestPipeline#17",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 35,
        "endChar": 114
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf4e4852_963b56da",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "Looking at aws-gerrit docs, all the aws recipes require LDAP settings[1]\n\nIf we weren\u0027t setting these credentials, aws-gerrit would default to \"mycompany.com\".\n\nIt\u0027s true, it would work, but it would cause to test Gerrit in an environment where LDAP is not reachable, which is not a common case and it defies the purpose of E2E testing.\n\n[1]https://gerrit.googlesource.com/aws-gerrit/+/refs/heads/master/Configuration.md#ldap",
      "parentUuid": "a5bded01_d75dd9f3",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 35,
        "endChar": 114
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cda6d5cf_e8b42cd1",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T14:40:47Z",
      "side": 1,
      "message": "Check line 62 we are changing to DEVELOPMENT_BECOME_ANY_ACCOUNT. I agree this should be done as a parameter, but at this point aws-gerrit do not allow to choose auth.type. We are switching to DEVELOPMENT_BECOME_ANY_ACCOUNT because we want to test Gerrit not LDAP which is usually provided by the organisation",
      "parentUuid": "cf4e4852_963b56da",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 35,
        "endChar": 114
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06691b4d_bfbc9d14",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:23:00Z",
      "side": 1,
      "message": "I understand, I didn\u0027t notice that line.",
      "parentUuid": "cda6d5cf_e8b42cd1",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 35,
        "endChar": 114
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17fc4ae9_1aa6d0a2",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06691b4d_bfbc9d14",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 35,
        "endChar": 114
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c03a53c5_c86a3352",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "smtp was removed as not needed to that test:https://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/282172/2/jenkins/gatlingTestPipeline#20",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 39,
        "endChar": 108
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97628f0f_e75f8298",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "See my reply above, SMTP is also a required parameter[1] and I think it would be better to test Gerrit in an environment where its dependencies are working, rather than relying on the fact that (currently) Gerrit doesn\u0027t break when they aren\u0027t.\n\n[1]https://gerrit.googlesource.com/aws-gerrit/+/refs/heads/master/Configuration.md#smtp",
      "parentUuid": "c03a53c5_c86a3352",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 39,
        "endChar": 108
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb545dee_d4804c50",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T14:40:47Z",
      "side": 1,
      "message": "Check line 63, we are disabling smtp. We decided to do that during the discussion in the original change. We do not want to produce massive amount of emails. Sam as above, we can change aws-gerrit to allow to disable SMTP via parameter and then we can have those settings, but I believe it should be a follow up change",
      "parentUuid": "97628f0f_e75f8298",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 39,
        "endChar": 108
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83346e16_5953738f",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:23:00Z",
      "side": 1,
      "message": "I understand, I didn\u0027t notice that line.",
      "parentUuid": "eb545dee_d4804c50",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 39,
        "endChar": 108
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f408999d_d50a42fb",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "83346e16_5953738f",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 39,
        "endChar": 108
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a235dedb_8825af70",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 85,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "LDAP was removed as not needed for that test:\nhttps://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/282172/2/jenkins/gatlingTestPipeline#17",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 85,
        "endChar": 107
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04d37a61_51b29049",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 85,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "a235dedb_8825af70",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 85,
        "endChar": 107
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fc078231_cd69c699",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 85,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:23:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "04d37a61_51b29049",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 85,
        "endChar": 107
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39887331_50d36f3c",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "smtp was removed as not needed to that test:https://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/282172/2/jenkins/gatlingTestPipeline#20",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 89,
        "endChar": 99
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2775747_83893c3a",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "39887331_50d36f3c",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 89,
        "endChar": 99
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c376da2_7ec2d66d",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 89,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:23:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c2775747_83893c3a",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 89,
        "endChar": 99
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14dc976a_2483bb50",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-02-16T11:42:58Z",
      "side": 1,
      "message": "same as above: what\u0027s the point of storing these credentials in jenkins. They are strictly related to the Gerrit test installation not to the jenkins environment",
      "range": {
        "startLine": 134,
        "startChar": 18,
        "endLine": 136,
        "endChar": 59
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fdf13718_f6754008",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T13:42:59Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "14dc976a_2483bb50",
      "range": {
        "startLine": 134,
        "startChar": 18,
        "endLine": 136,
        "endChar": 59
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "238c68da_f4c0451e",
        "filename": "jenkins/gatlingTestPipeline.groovy",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-02-16T16:23:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fdf13718_f6754008",
      "range": {
        "startLine": 134,
        "startChar": 18,
        "endLine": 136,
        "endChar": 59
      },
      "revId": "eab2b494906f7600474e1ff18d14db149d477926",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}