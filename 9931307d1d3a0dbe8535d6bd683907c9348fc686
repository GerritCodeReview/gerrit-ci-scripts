{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2785ccbd_b757121a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-02-09T23:32:59Z",
      "side": 1,
      "message": "It looks that the Bazel upgrade broken the Bazelisk build:\nERROR: /root/.cache/bazel/_bazel_root/b288066cd87f615197395c866ba8b5e2/external/build_bazel_rules_nodejs/internal/node/node.bzl:89:45: invalid escape sequence: \\/. You can enable unknown escape sequences by passing the flag --incompatible_restrict_string_escapes\u003dfalse\nERROR: /root/.cache/bazel/_bazel_root/b288066cd87f615197395c866ba8b5e2/external/build_bazel_rules_nodejs/internal/node/node.bzl:89:64: invalid escape sequence: \\.. You can enable unknown escape sequences by passing the flag --incompatible_restrict_string_escapes\u003dfalse\nERROR: error loading package \u0027\u0027: in /root/.cache/bazel/_bazel_root/b288066cd87f615197395c866ba8b5e2/external/build_bazel_rules_nodejs/index.bzl: Extension \u0027internal/node/node.bzl\u0027 has errors\nINFO: Elapsed time: 2.616s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (0 packages loaded)\nFAILED: Build did NOT complete successfully (0 packages loaded)\nThe command \u0027/bin/sh -c cd /tmp \u0026\u0026     git clone https://github.com/bazelbuild/bazelisk.git \u0026\u0026     cd bazelisk \u0026\u0026     git checkout v1.7.4 \u0026\u0026     rm -f .bazelversion \u0026\u0026     bazel build --stamp --workspace_status_command\u003d`pwd`/stamp.sh --platforms\u003d@io_bazel_rules_go//go/toolchain:linux_amd64 //:bazelisk \u0026\u0026     cp bazel-bin/*/bazelisk /usr/bin \u0026\u0026     rm -rf /tmp/bazelisk\u0027 returned a non-zero code: 1\nmake: *** [build] Error 1",
      "revId": "9931307d1d3a0dbe8535d6bd683907c9348fc686",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e5680f7_11b59b95",
        "filename": "jenkins-docker/slave-bazel-nocache/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-02-09T23:33:30Z",
      "side": 1,
      "message": "Do we also need to upgrade Bazelisk?",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "9931307d1d3a0dbe8535d6bd683907c9348fc686",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fcf88d4_87a01e80",
        "filename": "jenkins-docker/slave-bazel-nocache/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-02-10T07:18:08Z",
      "side": 1,
      "message": "It\u0027s already on latest release: 1.7.4, so that the breakage is only fixed on Bazelisk@HEAD.\n\nI filed this issue upstream and asked to conduct new Bazelisk release to include the fix: [1].\n\nThere is a trivial workaround: to un-flip the option: --incompatible_restrict_string_escapes\u003dfalse, but it\u0027s discouraged by Bazel team:\n\n  $ bazel build --config\u003drelease --incompatible_restrict_string_escapes\u003dfalse //:bazelisk\n  INFO: Analyzed target //:bazelisk (45 packages loaded, 6968 targets configured).\n  INFO: Found 1 target...\n  Target //:bazelisk up-to-date:\n  bazel-bin/bazelisk_/bazelisk\n\n[1] https://github.com/bazelbuild/bazelisk/issues/213",
      "parentUuid": "7e5680f7_11b59b95",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "9931307d1d3a0dbe8535d6bd683907c9348fc686",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}