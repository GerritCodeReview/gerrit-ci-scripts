{
  "comments": [
    {
      "key": {
        "uuid": "091525b7_0055f7c9",
        "filename": "jenkins/gerrit-bazel-test.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-09T16:31:05Z",
      "side": 1,
      "message": "Why do we need the offline flag here? These packages aren\u0027t persisted but downloaded each time the build is run.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "735b36277f03884216237b5f05b63ea7334d034b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ebc7669_89c85c75",
        "filename": "jenkins/gerrit-bazel-test.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-09T16:40:45Z",
      "side": 1,
      "message": "Could we instead do the `yarn install --offline` when we are building the Docker image instead?\nBy downloading and installing the NPMs all the times we run a build, we would be adding more minutes to the build time :-(",
      "parentUuid": "091525b7_0055f7c9",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "735b36277f03884216237b5f05b63ea7334d034b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "782d0230_7293bcbe",
        "filename": "jenkins/gerrit-bazel-test.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-02-10T07:37:54Z",
      "side": 1,
      "message": "No. During the docker image build, yarn install is run for all packages that fills up the yarn cache in the docker image. So here in the job using --offline, it will install the packages from the cache, if that fails, it will download the packages, e.g. when the package.json fails. That is why I used yarn in the first place, because it has a good caching mechanism other than npm.",
      "parentUuid": "7ebc7669_89c85c75",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "735b36277f03884216237b5f05b63ea7334d034b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a9b6d27_0fd29455",
        "filename": "jenkins/gerrit-bazel-test.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-02-10T09:27:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "782d0230_7293bcbe",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "735b36277f03884216237b5f05b63ea7334d034b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}