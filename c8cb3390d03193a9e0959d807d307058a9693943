{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5563325a_7baaba3b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-02-17T08:54:49Z",
      "side": 1,
      "message": "Alternative approach:\n\nWe are about to switch to RBE, where the build+tests takes seconds: max 300 seconds.\nSuggestion: we move PolyGerrit tests also to RBE, and always run all tests: backend + frontend without any optimizations.",
      "revId": "c8cb3390d03193a9e0959d807d307058a9693943",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df51e78f_e2a98ef2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-02-17T09:46:56Z",
      "side": 1,
      "message": "\u003e Alternative approach:\n\u003e \n\u003e We are about to switch to RBE, where the build+tests takes seconds: max 300 seconds.\n\nSure, but then we are running a verification that *may fail* on code that hasn\u0027t changed and that would impact the validation of a polygerrit-only change, which would be unfair to the author of the change.",
      "parentUuid": "5563325a_7baaba3b",
      "revId": "c8cb3390d03193a9e0959d807d307058a9693943",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a15f192d_d13d7c14",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-02-17T09:58:09Z",
      "side": 1,
      "message": "Bazel would solve that for us too: on RBE everything is cached. So, running a backend build and tests would just be a no-op. We should make checks plugins and Jenkins groovy script unnecessary over engineered. If build takes 1.5 hours you have to work hard to avoid running it. If it takes seconds and is heavily caches, your shouldn\u0027t care, so that all three checks:\n\n* frontend\n* backend\n* code style\n\nare run on each and ervey change, not matter what was changed.",
      "parentUuid": "df51e78f_e2a98ef2",
      "revId": "c8cb3390d03193a9e0959d807d307058a9693943",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46fe3de8_507de404",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-02-17T10:05:53Z",
      "side": 1,
      "message": "\u003e Bazel would solve that for us too: on RBE everything is cached. So, running a backend build and tests would just be a no-op. \n\nYeah, it *SHOULD* but it isn\u0027t really. We already have server-side cache enabled and still cache is not hit as much as it should.\n\nI believe the environment variables are invalidating the cache and we use them.\n\n\u003e We should make checks plugins and Jenkins groovy script unnecessary over engineered.\n\nIn theory, we should get rid of Jenkins and get rid of Checks altogether and have just Bazel running the build and expose his results. In reality, we\u0027re not there yet.",
      "parentUuid": "a15f192d_d13d7c14",
      "revId": "c8cb3390d03193a9e0959d807d307058a9693943",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3722fe44_48d2b02c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-02-17T10:34:56Z",
      "side": 1,
      "message": "This is now working E2E",
      "revId": "c8cb3390d03193a9e0959d807d307058a9693943",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}