{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "49d3cb2d_48e6d0b9",
        "filename": "jenkins-docker/agent-bazel/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-12-29T08:51:26Z",
      "side": 1,
      "message": "```suggestion\n# Set the base image\nFROM your_base_image\n\n# Set the working directory\nWORKDIR /app\n\n# Define the list of repositories\nARG REPOS\u003d\"modules/modules/jgit \\\n           modules/modules/java-prettify \\\n           modules/plugins/codemirror-editor \\\n           modules/plugins/commit-message-length-validator \\\n           modules/plugins/delete-project \\\n           modules/plugins/download-commands \\\n           modules/plugins/gitiles \\\n           modules/plugins/hooks \\\n           modules/plugins/plugin-manager \\\n           modules/plugins/replication \\\n           modules/plugins/reviewnotes \\\n           modules/plugins/singleusergroup \\\n           modules/plugins/webhooks \\\n           modules/polymer-bridges\"\n\n# Iterate over the repositories and fetch the branches\nRUN for REPO in $REPOS; do \\\n        export GIT_DIR\u003d$REF_REPO/$REPO \u0026\u0026 \\\n        mkdir -p $GIT_DIR \u0026\u0026 \\\n        git init --bare \u0026\u0026 \\\n        git fetch https://gerrit.googlesource.com/$REPO +refs/heads/*:refs/heads/; \\\n    done\n```",
      "revId": "eea82f387b2ffb18c4cf66b751f93384cb56bb8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f7b7bfc_bbc83e8c",
        "filename": "jenkins-docker/agent-bazel/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-12-29T09:52:14Z",
      "side": 1,
      "message": "True, but I need remove the initial `modules` path because it is not part of the repository name.",
      "parentUuid": "49d3cb2d_48e6d0b9",
      "revId": "eea82f387b2ffb18c4cf66b751f93384cb56bb8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57deb048_bb5743ac",
        "filename": "jenkins-docker/agent-bazel/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-12-29T08:53:51Z",
      "side": 1,
      "message": "why do you need to clone if in L11 you already fetched Gerrit repo?",
      "revId": "eea82f387b2ffb18c4cf66b751f93384cb56bb8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c9f5942_e39d5eab",
        "filename": "jenkins-docker/agent-bazel/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-12-29T09:52:14Z",
      "side": 1,
      "message": "I want to simulate what the CI build does, cloning with a reference repo.\nI should actually remove the `-if-able` part because I am expecting to have reference repos for everything, including submodules.",
      "parentUuid": "57deb048_bb5743ac",
      "revId": "eea82f387b2ffb18c4cf66b751f93384cb56bb8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}