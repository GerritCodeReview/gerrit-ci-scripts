- job:
    name: "validate-jgit-changes"
    project-type: pipeline
    display-name: "Gerrit-bazel-jgit-servlet-4"
    description: "Builds and tests JGit Gerrit changes targeting servlet-4"
    disabled: false
    scm:
      - git:
          url: https://your.git.server/gerrit-ci-scripts
          branches:
            - master
          credentials-id: gerrit.googlesource.com
    dsl: !include-raw: gerrit-bazel-jgit-servlet-4-validation.groovy
    triggers:
      - gerrit:
          server-name: "gerrit"
          trigger-on:
            - patchset-created-event:
                exclude-drafts: true
                exclude-trivial-rebase: true
                exclude-no-code-change: true
            - change-restored-event
          projects:
            - project-compare-type: "PLAIN"
              project-pattern: "eclipse-jgit/jgit"
              branches:
                - branch-compare-type: "PLAIN"
                  branch-pattern: "servlet-4"
